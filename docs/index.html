<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Office Space & Cost Estimator | Lambert Smith Hampton</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- TailwindCSS (CDN) for rapid styling -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <!-- Leaflet for the interactive map -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-VSjAGN6z0UMSPi90DxtmmBnxateTGf10TqupPZN8X+k="
    crossorigin=""
  />
  <style>
    :root {
      /* Lambert Smith Hampton core red */
      --lsh-red: #cc2030;
    }
    .bg-lsh-red { background-color: var(--lsh-red); }
    .hover\:bg-lsh-red-dark:hover { background-color: #b51c2a; }
    .text-lsh-red { color: var(--lsh-red); }
  </style>
</head>
<body class="bg-gray-50 font-sans antialiased">
  <!-- Header -->
  <header class="bg-white shadow">
    <div class="max-w-5xl mx-auto px-4 py-6 flex items-center">
      <div class="flex-shrink-0 w-11 h-11 rounded bg-lsh-red text-white flex items-center justify-center font-extrabold text-lg tracking-tight">
        LSH
      </div>
      <h1 class="ml-3 text-2xl md:text-3xl font-semibold text-gray-900">Office Space &amp; Cost Estimator</h1>
    </div>
  </header>

  <!-- Main 2‑column layout -->
  <main class="max-w-5xl mx-auto px-4 py-8 flex flex-col md:flex-row gap-6">
    <!-- Calculator column -->
    <section class="flex-1 bg-white p-6 rounded-lg shadow-md order-2 md:order-1">
      <h2 class="text-xl font-semibold mb-4 text-lsh-red">Quick estimate</h2>

      <!-- Location selector -->
      <label for="locationSelect" class="block text-sm font-medium text-gray-700 mb-1">Where are you interested in?</label>
      <select id="locationSelect" class="w-full border rounded p-2 mb-4 bg-white">
        <option value="" disabled selected>Select a location…</option>
        <option value="London">London</option>
        <option value="Manchester">Manchester</option>
        <option value="Birmingham">Birmingham</option>
        <option value="Newcastle">Newcastle</option>
        <option value="Bristol">Bristol</option>
      </select>

      <!-- People input -->
      <label for="peopleInput" class="block text-sm font-medium text-gray-700 mb-1">How many people?</label>
      <input
        type="number"
        id="peopleInput"
        min="1"
        class="w-full border rounded p-2 mb-4"
        placeholder="e.g. 25"
      />

      <button
        id="calcBtn"
        class="bg-lsh-red hover:bg-lsh-red-dark text-white px-4 py-2 rounded transition-colors w-full md:w-auto"
      >
        Calculate space &amp; cost
      </button>

      <!-- Results -->
      <div id="resultWrapper" class="mt-6 hidden">
        <p class="text-lg font-medium text-gray-900">Required floor area:</p>
        <p id="areaResult" class="text-2xl font-bold"></p>
        <p class="mt-4 text-lg font-medium text-gray-900">Estimated annual cost:</p>
        <p id="costResult" class="text-2xl font-bold"></p>
      </div>

      <p class="mt-6 text-sm text-gray-500 leading-snug">
        *The tool uses <strong>12&nbsp;m² per person</strong> as a guideline and placeholder market rental rates per square&nbsp;metre. Adjust the multiplier and rates to match real‑world data before publication.
      </p>
    </section>

    <!-- Map column -->
    <section class="flex-1 bg-white p-6 rounded-lg shadow-md order-1 md:order-2">
      <h2 class="text-xl font-semibold mb-4 text-lsh-red">UK office hotspots</h2>
      <div id="map" class="w-full h-80 rounded"></div>
      <p class="mt-4 text-sm text-gray-500">Hover a pin to see the city; click for placeholder rental info. Clicking also pre‑selects the city in the calculator.</p>
    </section>
  </main>

  <!-- Footer -->
  <footer class="text-center text-sm text-gray-400 py-6">
    © Lambert Smith Hampton — Prototype tool for illustration only.
  </footer>

  <!-- JavaScript: Leaflet + calculator logic -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-o9N1j8pN34E+xDZn6/R+ehGJbT4Lo0P6DUX5M6u2E2k=" crossorigin=""></script>
  <script>
    // ---- Data ----
    const PRICES = {
      London: 650,       // £/m² (placeholder)
      Manchester: 320,
      Birmingham: 280,
      Newcastle: 220,
      Bristol: 350
    };

    const LOCATIONS = [
      { name: "London", coords: [51.5072, -0.1276] },
      { name: "Manchester", coords: [53.4808, -2.2426] },
      { name: "Birmingham", coords: [52.4862, -1.8904] },
      { name: "Newcastle", coords: [54.9714, -1.6174] },
      { name: "Bristol", coords: [51.456, -2.5879] }
    ];

    // ---- Calculator logic ----
    const peopleInput = document.getElementById("peopleInput");
    const locationSelect = document.getElementById("locationSelect");
    const areaResult = document.getElementById("areaResult");
    const costResult = document.getElementById("costResult");
    const resultWrapper = document.getElementById("resultWrapper");

    document.getElementById("calcBtn").addEventListener("click", () => {
      const people = parseInt(peopleInput.value, 10);
      const location = locationSelect.value;

      if (!location) return alert("Please choose a location from the list or map.");
      if (!people || people <= 0) return alert("Please enter a positive number of people.");

      const sqm = people * 12; // 12 m² per person
      const sqft = sqm * 10.7639;
      const cost = sqm * (PRICES[location] || 0);

      areaResult.innerHTML = `${sqm.toLocaleString()}&nbsp;m² • ${Math.round(sqft).toLocaleString()}&nbsp;ft²`;
      costResult.innerHTML = `£${cost.toLocaleString()}`;
      resultWrapper.classList.remove("hidden");
    });

    // ---- Leaflet map ----
    const map = L.map("map", {
      zoomControl: false,
      attributionControl: false,
    }).setView([54.5, -3.0], 5);

    // OpenStreetMap tiles (HTTPS)
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      maxZoom: 10,
      attribution: "© OpenStreetMap contributors",
    }).addTo(map);

    // Ensure correct sizing when iframe finishes loading
    window.addEventListener("load", () => setTimeout(() => map.invalidateSize(), 0));

    LOCATIONS.forEach(({ name, coords }) => {
      const marker = L.marker(coords, { title: name }).addTo(map);
      const price = PRICES[name];
      marker.bindPopup(`<strong>${name}</strong><br/>Avg. rent: £${price}/m²`);

      // Hover tooltip (via title) & click behaviour
      marker.on("click", () => {
        locationSelect.value = name;
        marker.openPopup();
      });
    });
  </script>
</body>
</html>

